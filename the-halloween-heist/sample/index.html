<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>The Halloween Heist ‚Äì Sample Preview</title>
  <style>
    body {
      background-color: #1e1b2c;
      color: #f9f6f2;
      font-family: 'Georgia', serif;
      padding: 2em;
      max-width: 800px;
      margin: auto;
    }
    h1, h2 {
      color: #ffcc66;
    }
    .interactive {
      color: #66ccff;
      cursor: pointer;
      text-decoration: underline;
    }
    .quiz, .fact-box {
      margin-top: 1em;
      background: #2c253d;
      padding: 1em;
      border-radius: 8px;
      display: none;
    }
    .button {
      display: inline-block;
      margin-top: 2em;
      padding: 0.5em 1em;
      background-color: #ff6600;
      color: white;
      text-decoration: none;
      border-radius: 5px;
    }
    .progress-container {
      width: 100%;
      background-color: #2c253d;
      border-radius: 10px;
      margin-bottom: 1em;
      height: 20px;
      overflow: hidden;
    }
    .progress-bar {
      height: 100%;
      width: 0%;
      background-color: #ffcc66;
      transition: width 0.5s ease-in-out;
    }
    .countdown-banner {
      background-color: #3a2f4d;
      color: #ffcc66;
      padding: 1em;
      border-radius: 8px;
      text-align: center;
      margin-bottom: 2em;
    }
    .jack-shadow {
      background: radial-gradient(circle, #ff9900 10%, transparent 70%);
      width: 100%;
      height: 100px;
      animation: flicker 2s infinite;
      margin-bottom: 1em;
      border-radius: 50%;
    }
    @keyframes flicker {
      0% { opacity: 0.8; }
      50% { opacity: 0.4; }
      100% { opacity: 0.8; }
    }
    #bat {
      position: fixed;
      width: 40px;
      height: 40px;
      background: url('https://upload.wikimedia.org/wikipedia/commons/7/7e/Bat_icon.svg') no-repeat center;
      background-size: contain;
      animation: flyAcross 6s ease-in-out;
      z-index: 999;
    }
    @keyframes flyAcross {
      0% { left: -100px; top: 50px; opacity: 0; }
      50% { opacity: 1; }
      100% { left: 100%; top: 100px; opacity: 0; }
    }
    .glitter {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url('https://www.transparenttextures.com/patterns/glitter.png');
      background-size: cover;
      animation: glitter 2s linear;
      z-index: 998;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <div class="progress-container">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <div class="countdown-banner">
    <h2>üç¨ Countdown to the Great Candy Haul:</h2>
    <p id="countdown"></p>
  </div>

  <h1>üéÉ The Halloween Heist</h1>
  <h2>Sample Preview ‚Äì Chapters 1 & 2</h2>

  <p><strong>Chapter 1: The Lonely Prince</strong></p>
  <p>Prince Peregrine wasn't like other royals. While they practiced royal waves, he climbed big trees and explored the castle's dusty corners. His heart longed for a friend who loved adventure as much as he did.</p>
  <p>On Halloween night, the kingdom buzzed with excitement. All the candy would be placed in the <span class="interactive" onclick="showFact('vault')">Royal Candy Vault</span>. At sunrise, everyone would get their share ‚Äî the kingdom‚Äôs favorite tradition.</p>

  <div id="vault" class="fact-box">
    üè∞ <strong>Royal Candy Vault:</strong> A magical chamber that sparkles with sugar dust and locks with laughter spells.
  </div>

  <p><strong>Chapter 2: The Mystery Begins</strong></p>
  <p>Dressed in a knight costume he made himself, Peregrine wandered through the busy streets. He passed laughing ghosts and wobbly witches. Suddenly, a little shadow <em onclick="playSound()">*whoosh*</em> zipped past his ear.</p>
  <p>"Hello!" said a cheerful voice. It was <span class="interactive" onclick="showFact('wisp'); showBat();">Wisp</span>, a friendly bat with big ears and curious eyes. He liked quiet flights better than loud crowds.</p>

  <div id="wisp" class="fact-box">
    ü¶á <strong>Wisp:</strong> A nocturnal navigator who loves moonlight and mystery. His favorite snack? Candied crickets.
  </div>

  <p>Before they could talk more, a cry echoed from the town square: <strong>"The candy! It's all gone!"</strong> <em onclick="playSound()">*gasp*</em></p>

  <div class="quiz" id="quiz">
    üß† <strong>Quick Quiz:</strong><br>
    What makes Prince Peregrine different from other princes?<br>
    <button onclick="checkAnswer('a')">A. He practices royal waves</button><br>
    <button onclick="checkAnswer('b')">B. He climbs trees and explores</button><br>
    <button onclick="checkAnswer('c')">C. He gives candy to everyone</button><br>
    <p id="feedback"></p>
  </div>

  <div id="prompt-scroll" class="fact-box">
    ‚úèÔ∏è <strong>Creative Prompt:</strong><br>
    What adventure should Peregrine, Wisp, and Dusk go on next?<br>
    Write your story idea below!
  </div>

  <div class="jack-shadow" title="Jack-o'-Lantern glow"></div>
  <div id="bat" style="display:none;"></div>
  <div id="glitter" class="glitter" style="display:none;"></div>

  <a href="/the-wandering-princes-emporium/the-halloween-heist/en-6-8/" class="button" onclick="trackSampleClick()">Read the Full Story</a>

  <script>
    function showFact(id) {
      document.getElementById(id).style.display = 'block';
    }

    function playSound() {
      const audio = new Audio('https://www.soundjay.com/button/sounds/button-16.mp3');
      audio.play();
    }

    function checkAnswer(choice) {
      const feedback = document.getElementById('feedback');
      if (choice === 'b') {
        feedback.innerHTML = "‚úÖ Correct! Peregrine loves adventure.";
      } else {
        feedback.innerHTML = "‚ùå Try again. Think about what makes him unique.";
      }
    }

    function showBat() {
      const bat = document.getElementById('bat');
      bat.style.display = 'block';
      setTimeout(() => bat.style.display = 'none', 6000);
    }

    function showGlitter() {
      const glitter = document.getElementById('glitter');
      glitter.style.display = 'block';
      setTimeout(() => glitter.style.display = 'none', 2000);
    }

    function showPromptScroll() {
      document.getElementById('prompt-scroll').style.display = 'block';
    }

    window.addEventListener('scroll', () => {
      const scrollTop = window.scrollY;
      const docHeight = document.body.scrollHeight - window.innerHeight;
      const scrollPercent = (scrollTop / docHeight) * 100;
      document.getElementById('progressBar').style.width = scrollPercent + '%';

      const triggerPoint = document.body.scrollHeight * 0.5;
      if (scrollTop > triggerPoint) {
        showPromptScroll();
      }
    });

    function updateCountdown() {
      const halloween = new Date('October 31, 2025 00:00:00').getTime();
      const now = new Date().getTime();
      const distance = halloween - now;

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((distance / (
